(this["webpackJsonppetful-client"]=this["webpackJsonppetful-client"]||[]).push([[0],{24:function(e,t,n){e.exports=n(40)},25:function(e,t,n){},30:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);n(25);var a=n(11),o=n(0),r=n.n(o),c=n(20),l=n.n(c),s=n(17),i=n(23),u=n(2),p=n(3),h=n(5),d=n(4),m=n(6),f={API_ENDPOINT:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_API_BASE||"https: //localhost:8000/api"},E=(n(30),function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("main",null,r.a.createElement("header",{className:"lp-header"},r.a.createElement("h1",null,"Welcome to Petful")),r.a.createElement("p",null,"See a puppy (or kitten) that is pulling at your heartstrings? Don\u2019t miss out on making it your newest family member!"),r.a.createElement("div",{className:"lp-img"},r.a.createElement("img",{src:"https://images.unsplash.com/photo-1585849847025-256a1488e653?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1867&q=80",alt:"dog-cat"})),r.a.createElement("div",{className:"lp-process"},r.a.createElement("h2",null,"How to adopt"),r.a.createElement("p",null,"Each shelter's adoption process is different. Here's an example of how a shelter adoption might work:"),r.a.createElement("ol",null,r.a.createElement("li",null,"You find a pet you want to adopt on Petful.We use a first-in-first-out system, and so you'll only be able to adopt the pets we've had the longest."),r.a.createElement("li",null,"You click Adopt and fill in your name."),r.a.createElement("li",null,"You go to the shelter, pay the adoption fee(usually $25 to $125), and then take your new pet home."))),r.a.createElement(a.b,{to:"/adoption"},r.a.createElement("button",{type:"button"},"Adopt today"))))}}]),t}(o.Component)),b=r.a.createContext({people:[],cats:[],dogs:[]}),y=(n(36),function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={name:""},n.handleSubmit=function(e){e.preventDefault();var t=n.state.name;n.context.onAddPerson(t),n.props.add(t),n.props.queueLine(),n.setState({name:""})},n}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("h2",null,"Please wait in line for your\xa0turn"),r.a.createElement("p",null,"Enter your info below to wait in line"),r.a.createElement("label",{htmlFor:"name"},"Please enter your name"),r.a.createElement("input",{type:"text",id:"name",name:"name",value:this.state.name,onChange:function(t){return e.setState({name:t.target.value})}}),r.a.createElement("button",{type:"submit"},"Adopt a pet")))}}]),t}(o.Component));y.contextType=b;n(37);var O=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.context.dogs,t=e.age,n=e.breed,a=e.description,o=e.gender,c=e.imageURL,l=e.name,s=e.story;return r.a.createElement("div",{className:"pet"},r.a.createElement("h2",null,l),r.a.createElement("img",{src:c,alt:"pet up for adoption"}),r.a.createElement("p",null,"Age: ",t),r.a.createElement("p",null,"Breed: ",n),r.a.createElement("p",null,"Gender: ",o),r.a.createElement("p",null,"Description: ",a),r.a.createElement("p",null,"Story: ",s),this.props.adopt&&r.a.createElement("button",{onClick:this.props.demoAdopt},"Adopt Dog"))}}]),t}(o.Component);O.contextType=b;var P=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.context.cats,t=e.age,n=e.breed,a=e.description,o=e.gender,c=e.imageURL,l=e.name,s=e.story;return r.a.createElement("div",{className:"pet"},r.a.createElement("h2",null,l),r.a.createElement("img",{src:c,alt:"Cat up for adoption"}),r.a.createElement("p",null,"Age: ",t),r.a.createElement("p",null,"Breed: ",n),r.a.createElement("p",null,"Gender: ",o),r.a.createElement("p",null,"Description: ",a),r.a.createElement("p",null,"Story: ",s),this.props.adopt&&r.a.createElement("button",{onClick:this.props.demoAdopt},"Adopt Cat"))}}]),t}(o.Component);P.contextType=b;n(38);var v=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={currentUser:"",userCanAdopt:!1,interval:null},n.componentWillUnmount=function(){clearInterval(n.state.interval)},n.addPerson=function(e){n.setState({currentUser:e})},n.getInLine=function(){var e=0,t=setInterval((function(){n.context.onDeletePerson(),n.context.onRandomAdoption(),n.context.people[1]===n.state.currentUser&&setInterval((function(){if(4===e)return clearInterval();n.context.onQueuePerson(),e++,console.log(e)}),2e3),n.userReady()}),2e3);n.setState({interval:t})},n.userReady=function(){n.context.people[1]===n.state.currentUser&&(clearInterval(n.state.interval),n.setState({userCanAdopt:!0}))},n.adoptCat=function(){n.context.onDeleteCat(),n.context.onDeletePerson(),n.props.history.push({pathname:"/success",state:n.context.cats})},n.adoptDog=function(){n.context.onDeleteDog(),n.context.onDeletePerson(),n.props.history.push({pathname:"/success",state:n.context.dogs})},n}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.context.people),r.a.createElement("div",{className:"adoption"},r.a.createElement("div",{className:"adopt-header"},r.a.createElement("h1",null,"Get Ready to Adopt!"),r.a.createElement("h2",null,"The following people are in line for adoption:")),r.a.createElement("div",{className:"people-list"},r.a.createElement("ul",null,this.context.people.map((function(t){return r.a.createElement("li",{key:e.context.people+Math.random()},t)})))),!this.state.currentUser&&r.a.createElement(y,{add:this.addPerson,queueLine:this.getInLine}),this.state.currentUser&&!this.state.userCanAdopt&&r.a.createElement("p",null,"Excellent! Please wait in line. When your name appears, you will be able to adopt a pet!"),this.state.userCanAdopt&&r.a.createElement("h2",null,"Your turn!"),r.a.createElement(O,{adopt:this.state.userCanAdopt,demoAdopt:this.adoptDog}),r.a.createElement(P,{adopt:this.state.userCanAdopt,demoAdopt:this.adoptCat}))}}]),t}(o.Component);v.contextType=b;var g=n(10),j=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){console.log(this.props.location.state);var e=this.props.location.state,t=e.imageURL,n=e.name;return r.a.createElement("main",null,r.a.createElement("h2",null,"Here is your new pet!"),r.a.createElement("p",null,"You have adopted ",n),r.a.createElement("img",{src:t,alt:"a brand new pet!"}),r.a.createElement(a.b,{to:"/adoption"},"Return to adoption page"))}}]),t}(o.Component),A=(n(39),function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={people:[],cats:[],dogs:[]},n.addPeople=function(e){fetch("".concat(f.API_ENDPOINT,"/people"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({name:e})}),n.setState({people:[].concat(Object(i.a)(n.state.people),[e])})},n.queuePerson=function(){fetch("".concat(f.API_ENDPOINT,"/people"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({name:"Test Person ".concat(Math.floor(100*Math.random()))})}).then((function(e){if(201===e.status)return fetch("".concat(f.API_ENDPOINT,"/people")).then((function(e){return e.json()})).then((function(e){n.setState({people:e})}));throw new Error("The post request failed")})).catch((function(e){console.error(e)}))},n.deletePeople=function(){fetch("".concat(f.API_ENDPOINT,"/people"),{method:"DELETE"}).then((function(e){if(201===e.status)return fetch("".concat(f.API_ENDPOINT,"/people")).then((function(e){return e.json()})).then((function(e){n.setState({people:e})}));throw new Error("The delete request failed")})).catch((function(e){console.error(e)}))},n.deleteDog=function(){fetch("".concat(f.API_ENDPOINT,"/dogs"),{method:"DELETE"}).then((function(e){if(201===e.status)return fetch("".concat(f.API_ENDPOINT,"/dogs")).then((function(e){return e.json()})).then((function(e){n.setState({dogs:e})}));throw new Error("The delete request failed")})).catch((function(e){console.error(e)}))},n.deleteCat=function(){fetch("".concat(f.API_ENDPOINT,"/cats"),{method:"DELETE"}).then((function(e){if(201!==e.status)throw new Error("Delete request failed");fetch("".concat(f.API_ENDPOINT,"/cats")).then((function(e){return e.json()})).then((function(e){n.setState({cats:e})}))})).catch((function(e){console.err(e)}))},n.randomAdoption=function(){1===Math.floor(2*Math.random())?n.deleteCat():n.deleteDog()},n}return Object(m.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this;Promise.all([fetch("".concat(f.API_ENDPOINT,"/people")),fetch("".concat(f.API_ENDPOINT,"/cats")),fetch("".concat(f.API_ENDPOINT,"/dogs"))]).then((function(e){var t=Object(s.a)(e,3),n=t[0],a=t[1],o=t[2];return n.ok?a.ok?o.ok?Promise.all([n.json(),a.json(),o.json()]):o.json().then((function(e){return Promise.reject(e)})):a.json().then((function(e){return Promise.reject(e)})):n.json().then((function(e){return Promise.reject(e)}))})).then((function(t){var n=Object(s.a)(t,3),a=n[0],o=n[1],r=n[2];return e.setState({people:a,cats:o,dogs:r})})).catch((function(e){console.error({error:e})}))}},{key:"render",value:function(){console.log(this.state.people);var e={people:this.state.people,cats:this.state.cats,dogs:this.state.dogs,onAddPerson:this.addPeople,onDeletePerson:this.deletePeople,onDeleteDog:this.deleteDog,onDeleteCat:this.deleteCat,onQueuePerson:this.queuePerson,onRandomAdoption:this.randomAdoption};return r.a.createElement("div",null,r.a.createElement(b.Provider,{value:e},r.a.createElement(g.c,null,r.a.createElement(g.a,{exact:!0,path:"/",component:E}),r.a.createElement(g.a,{exact:!0,path:"/adoption",component:v}),r.a.createElement(g.a,{path:"/success",component:j}))))}}]),t}(o.Component));l.a.render(r.a.createElement(a.a,null,r.a.createElement(A,null)),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.3f714968.chunk.js.map